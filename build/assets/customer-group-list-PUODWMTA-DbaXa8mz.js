import{u as f,a as g,b}from"./chunk-APWN266K-C65YEnYq.js";import{j as e,O as C,u as l,C as h,H as v,T,L as G,r as w,A as y,t as p}from"./index-DQ7iaOIo.js";import{u as E,D as P}from"./chunk-MOFW5DA3-BBRzwwAr.js";import"./lodash-BbEdBw2P.js";import"./chunk-7LAPOKHJ-CJKFdgcT.js";import"./chunk-M566SHKI-CpCecA-q.js";import{u as S,b as z}from"./chunk-YVTBRLIE-QBelkXWc.js";import{P as A}from"./pencil-square-C2dQ88SM.js";import{T as D}from"./trash-AHlgA58B.js";import{u as L}from"./use-prompt-DSUtE_64.js";import{B as H}from"./label-DsyTUQgE.js";import{c as N}from"./index-DW7vLJga.js";import"./chunk-C76H5USB-BzcnRuay.js";import"./chunk-IQRVIEMV-CAyGAynz.js";import"./chunk-P3UUX2T6-OlAXa1VC.js";import"./chunk-5FUV23JF-BunLQmqw.js";import"./chunk-RKBIB2RM-cgj6pqOB.js";import"./chunk-WX2SMNCD-CYp4yo3d.js";import"./plus-mini-DfhjBeEB.js";import"./command-bar-B4tNt0in.js";import"./index-T2cn0UOM.js";import"./chunk-QAF7PVQE-D70u5tsT.js";import"./format-CJ2FegFx.js";import"./_baseIsEqual-DdDy9tKi.js";import"./date-picker-BsdoIRhX.js";import"./clsx-B-dksMZM.js";import"./popover-C1ro1ubo.js";import"./x-mark-mini-DjxzaqmQ.js";import"./triangle-left-mini-o3U9ykef.js";import"./chunk-RYVWLLZ2-CmEHdxLZ.js";import"./prompt-BKfKBHyN.js";const _={widgets:[]},B={widgets:[]};var m=20,O=()=>{const{t:s}=l(),{searchParams:t,raw:o}=f({pageSize:m}),{customer_groups:a,count:r,isLoading:c,isError:i,error:d}=S({...t,fields:"id,name,customers.id"}),x=g(),u=q(),{table:j}=E({data:a??[],columns:u,enablePagination:!0,count:r,getRowId:n=>n.id,pageSize:m});if(i)throw d;return e.jsxs(h,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{children:[e.jsx(v,{level:"h2",children:s("customerGroups.domain")}),e.jsx(T,{className:"text-ui-fg-subtle",size:"small",children:s("customerGroups.subtitle")})]}),e.jsx(G,{to:"/customer-groups/create",children:e.jsx(H,{size:"small",variant:"secondary",children:s("actions.create")})})]}),e.jsx(P,{table:j,columns:u,pageSize:m,count:r,filters:x,search:!0,pagination:!0,navigateTo:n=>`/customer-groups/${n.original.id}`,orderBy:["name","created_at","updated_at"],queryObject:o,isLoading:c})]})},R=({group:s})=>{const{t}=l(),o=L(),{mutateAsync:a}=z(s.id),r=async()=>{await o({title:t("customerGroups.delete.title"),description:t("customerGroups.delete.description",{name:s.name}),confirmText:t("actions.delete"),cancelText:t("actions.cancel")})&&await a(void 0,{onSuccess:()=>{p.success(t("customerGroups.delete.successToast",{name:s.name}))},onError:i=>{p.error(i.message)}})};return e.jsx(y,{groups:[{actions:[{label:t("actions.edit"),to:`/customer-groups/${s.id}/edit`,icon:e.jsx(A,{})}]},{actions:[{label:t("actions.delete"),onClick:r,icon:e.jsx(D,{})}]}]})},k=N(),q=()=>{const s=b();return w.useMemo(()=>[...s,k.display({id:"actions",cell:({row:t})=>e.jsx(R,{group:t.original})})],[s])},be=()=>e.jsxs("div",{className:"flex flex-col gap-y-2",children:[B.widgets.map((s,t)=>e.jsx("div",{children:e.jsx(s.Component,{})},t)),e.jsx(O,{}),_.widgets.map((s,t)=>e.jsx("div",{children:e.jsx(s.Component,{})},t)),e.jsx(C,{})]});export{be as Component};
