import{u as g}from"./chunk-BDLDJTVQ-D5RGHnRP.js";import{g as j}from"./chunk-G2J2T2QU-B54yRBv6.js";import{u as h}from"./chunk-W7625H47-D80nHBZo.js";import{T as b,a as v}from"./chunk-IQRVIEMV-CAyGAynz.js";import{S as P}from"./chunk-ADOCJB6L-DwJI6LYz.js";import{u as T,D as L}from"./chunk-MOFW5DA3-BBRzwwAr.js";import{j as e,O as C,u as n,C as y,H as w,T as D,L as S,r as q,k as z,A}from"./index-DQ7iaOIo.js";import"./lodash-BbEdBw2P.js";import{u as E}from"./chunk-C76H5USB-BzcnRuay.js";import"./chunk-7LAPOKHJ-CJKFdgcT.js";import"./chunk-M566SHKI-CpCecA-q.js";import{u as H}from"./chunk-MSD3WROE-DDuIqIqG.js";import{P as N}from"./pencil-square-C2dQ88SM.js";import{T as k}from"./trash-AHlgA58B.js";import{B as F}from"./label-DsyTUQgE.js";import{c as O}from"./index-DW7vLJga.js";import"./use-prompt-DSUtE_64.js";import"./prompt-BKfKBHyN.js";import"./chunk-6GU6IDUA-CDc7wW5L.js";import"./chunk-P3UUX2T6-OlAXa1VC.js";import"./chunk-5FUV23JF-BunLQmqw.js";import"./chunk-RKBIB2RM-cgj6pqOB.js";import"./chunk-WX2SMNCD-CYp4yo3d.js";import"./plus-mini-DfhjBeEB.js";import"./command-bar-B4tNt0in.js";import"./index-T2cn0UOM.js";import"./chunk-QAF7PVQE-D70u5tsT.js";import"./format-CJ2FegFx.js";import"./_baseIsEqual-DdDy9tKi.js";import"./date-picker-BsdoIRhX.js";import"./clsx-B-dksMZM.js";import"./popover-C1ro1ubo.js";import"./x-mark-mini-DjxzaqmQ.js";import"./triangle-left-mini-o3U9ykef.js";import"./chunk-YVTBRLIE-QBelkXWc.js";import"./chunk-RYVWLLZ2-CmEHdxLZ.js";import"./chunk-4N7PLYUW-DRfoew5M.js";import"./chunk-DMYZ6SLX-CvGU_oYL.js";const _={widgets:[]},B={widgets:[]};var I=({priceList:t})=>{const{t:s}=n(),r=g({priceList:t});return e.jsx(A,{groups:[{actions:[{label:s("actions.edit"),to:`${t.id}/edit`,icon:e.jsx(N,{})}]},{actions:[{label:s("actions.delete"),onClick:r,icon:e.jsx(k,{})}]}]})},o=O(),M=()=>{const{t}=n();return q.useMemo(()=>[o.accessor("title",{header:()=>e.jsx(b,{text:t("fields.title")}),cell:s=>s.getValue()}),o.accessor("status",{header:t("priceLists.fields.status.label"),cell:({row:s})=>{const{color:r,text:a}=j(t,s.original);return e.jsx(P,{color:r,children:a})}}),o.accessor("prices",{header:t("priceLists.fields.priceOverrides.header"),cell:s=>{var r;return e.jsx(v,{text:`${((r=s.getValue())==null?void 0:r.length)||"-"}`})}}),o.display({id:"actions",cell:({row:s})=>e.jsx(I,{priceList:s.original})})],[t])},Q=()=>h(),R=({pageSize:t=20,prefix:s})=>{var i;const r=E(["offset","q","order","status"],s);return{searchParams:{limit:t,offset:r.offset?Number(r.offset):0,order:r.order,status:(i=r.status)==null?void 0:i.split(","),q:r.q},raw:r}},c=20,V=()=>{const{t}=n(),{searchParams:s,raw:r}=R({pageSize:c}),{price_lists:a,count:i,isLoading:p,isError:u,error:d}=H(s,{placeholderData:z}),x=Q(),m=M(),{table:f}=T({data:a||[],columns:m,count:i,enablePagination:!0,getRowId:l=>l.id,pageSize:c});if(u)throw d;return e.jsxs(y,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{children:[e.jsx(w,{children:t("priceLists.domain")}),e.jsx(D,{className:"text-ui-fg-subtle",size:"small",children:t("priceLists.subtitle")})]}),e.jsx(F,{size:"small",variant:"secondary",asChild:!0,children:e.jsx(S,{to:"create",children:t("actions.create")})})]}),e.jsx(L,{table:f,columns:m,count:i,filters:x,orderBy:["title","status","created_at","updated_at"],queryObject:r,pageSize:c,navigateTo:l=>l.original.id,isLoading:p,pagination:!0,search:!0})]})},qe=()=>e.jsxs("div",{className:"flex flex-col gap-y-2",children:[B.widgets.map((t,s)=>e.jsx("div",{children:e.jsx(t.Component,{})},s)),e.jsx(V,{}),_.widgets.map((t,s)=>e.jsx("div",{children:e.jsx(t.Component,{})},s)),e.jsx(C,{})]});export{qe as Component};
