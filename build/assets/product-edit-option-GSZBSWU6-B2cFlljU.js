import{C as f}from"./chunk-OEMJBX6M-BrrzLRN5.js";import{a as n,u as j}from"./chunk-RLLZZQKN-CuYY48Je.js";import{u as v,F as o}from"./chunk-C7RYT3S3-DvWl1ixb.js";import{f as g,m as y}from"./chunk-4N7PLYUW-DRfoew5M.js";import{w as C,u as p,N as P,j as e,H as w,I as F}from"./index-DQ7iaOIo.js";import{t as b}from"./zod-DqtdDTUb.js";import{z as l}from"./index-yuYasa5Y.js";import{B as u}from"./label-DsyTUQgE.js";import"./index-DurlSV0o.js";import"./motion-DA5tZ6sm.js";import"./x-mark-mini-DjxzaqmQ.js";import"./prompt-BKfKBHyN.js";import"./chunk-DMYZ6SLX-CvGU_oYL.js";var I=l.object({title:l.string().min(1),values:l.array(l.string()).optional()}),S=({option:i})=>{const{t:r}=p(),{handleSuccess:d}=j(),t=v({defaultValues:{title:i.title,values:i.values.map(s=>s.value)},resolver:b(I)}),{mutateAsync:a,isPending:c}=y(i.product_id,i.id),m=t.handleSubmit(async s=>{a({id:i.id,...s},{onSuccess:()=>{d()}})});return e.jsx(n.Form,{form:t,children:e.jsxs("form",{onSubmit:m,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(n.Body,{className:"flex flex-1 flex-col gap-y-4 overflow-auto",children:[e.jsx(o.Field,{control:t.control,name:"title",render:({field:s})=>e.jsxs(o.Item,{children:[e.jsx(o.Label,{children:r("products.fields.options.optionTitle")}),e.jsx(o.Control,{children:e.jsx(F,{...s,placeholder:r("products.fields.options.optionTitlePlaceholder")})}),e.jsx(o.ErrorMessage,{})]})}),e.jsx(o.Field,{control:t.control,name:"values",render:({field:{...s}})=>e.jsxs(o.Item,{children:[e.jsx(o.Label,{children:r("products.fields.options.variations")}),e.jsx(o.Control,{children:e.jsx(f,{...s,placeholder:r("products.fields.options.variantionsPlaceholder")})}),e.jsx(o.ErrorMessage,{})]})})]}),e.jsx(n.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(n.Close,{asChild:!0,children:e.jsx(u,{variant:"secondary",size:"small",children:r("actions.cancel")})}),e.jsx(u,{type:"submit",size:"small",isLoading:c,children:r("actions.save")})]})})]})})},$=()=>{const{id:i,option_id:r}=C(),{t:d}=p(),{product:t,isLoading:a,isError:c,error:m}=g(i),s=t==null?void 0:t.options.find(h=>h.id===r),x=!a&&s;if(!a&&!s)throw P({message:`An option with ID ${r} was not found`},404);if(c)throw m;return e.jsxs(n,{children:[e.jsx(n.Header,{children:e.jsx(w,{children:d("products.options.edit.header")})}),x&&e.jsx(S,{option:s})]})};export{$ as Component};
