import{w as f,u as j,j as s,H as p,t as m,I as g}from"./index-DQ7iaOIo.js";import{c as v,d as T}from"./chunk-NGTKJO6Q-CBxZNPj4.js";import{a as e,u as y}from"./chunk-RLLZZQKN-CuYY48Je.js";import{u as b,F as o}from"./chunk-C7RYT3S3-DvWl1ixb.js";import{t as P}from"./zod-DqtdDTUb.js";import{z as x}from"./index-yuYasa5Y.js";import{B as h}from"./label-DsyTUQgE.js";import"./prompt-BKfKBHyN.js";var E=x.object({value:x.string().min(1)}),F=({productTag:a})=>{const{t:r}=j(),{handleSuccess:i}=y(),t=b({defaultValues:{value:a.value},resolver:P(E)}),{mutateAsync:n,isPending:l}=T(a.id),c=t.handleSubmit(async d=>{await n(d,{onSuccess:({product_tag:u})=>{m.success(r("productTags.edit.successToast",{value:u.value})),i()},onError:u=>{m.error(u.message)}})});return s.jsx(e.Form,{form:t,children:s.jsxs("form",{className:"flex size-full flex-col overflow-hidden",onSubmit:c,children:[s.jsx(e.Body,{className:"flex flex-1 flex-col overflow-auto",children:s.jsx(o.Field,{control:t.control,name:"value",render:({field:d})=>s.jsxs(o.Item,{children:[s.jsx(o.Label,{children:r("productTags.fields.value")}),s.jsx(o.Control,{children:s.jsx(g,{...d})}),s.jsx(o.ErrorMessage,{})]})})}),s.jsx(e.Footer,{children:s.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[s.jsx(e.Close,{asChild:!0,children:s.jsx(h,{variant:"secondary",size:"small",type:"button",children:r("actions.cancel")})}),s.jsx(h,{size:"small",type:"submit",isLoading:l,children:r("actions.save")})]})})]})})},R=()=>{const{id:a}=f(),{t:r}=j(),{product_tag:i,isPending:t,isError:n,error:l}=v(a),c=!t&&!!i;if(n)throw l;return s.jsxs(e,{children:[s.jsxs(e.Header,{children:[s.jsx(e.Title,{asChild:!0,children:s.jsx(p,{children:r("productTags.edit.header")})}),s.jsx(e.Description,{className:"sr-only",children:r("productTags.edit.subtitle")})]}),c&&s.jsx(F,{productTag:i})]})};export{R as Component};
