import{c as h,d as j}from"./chunk-OPYB3EPU-Gu9ostxc.js";import{a as r,u as v}from"./chunk-RLLZZQKN-CuYY48Je.js";import{u as y,F as t}from"./chunk-C7RYT3S3-DvWl1ixb.js";import{w as T,u as f,j as e,H as g,t as m,I as P}from"./index-DQ7iaOIo.js";import{t as E}from"./zod-DqtdDTUb.js";import{z as p}from"./index-yuYasa5Y.js";import{B as x}from"./label-DsyTUQgE.js";import"./prompt-BKfKBHyN.js";var F=p.object({value:p.string().min(1)}),b=({productType:a})=>{const{t:s}=f(),{handleSuccess:n}=v(),o=y({defaultValues:{value:a.value},resolver:E(F)}),{mutateAsync:i,isPending:c}=j(a.id),l=o.handleSubmit(async d=>{await i({value:d.value},{onSuccess:({product_type:u})=>{m.success(s("productTypes.edit.successToast",{value:u.value})),n()},onError:u=>{m.error(u.message)}})});return e.jsx(r.Form,{form:o,children:e.jsxs("form",{onSubmit:l,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(r.Body,{className:"flex flex-1 flex-col gap-y-8 overflow-y-auto",children:e.jsx(t.Field,{control:o.control,name:"value",render:({field:d})=>e.jsxs(t.Item,{children:[e.jsx(t.Label,{children:s("productTypes.fields.value")}),e.jsx(t.Control,{children:e.jsx(P,{...d})}),e.jsx(t.ErrorMessage,{})]})})}),e.jsx(r.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(r.Close,{asChild:!0,children:e.jsx(x,{size:"small",variant:"secondary",children:s("actions.cancel")})}),e.jsx(x,{size:"small",type:"submit",isLoading:c,children:s("actions.save")})]})})]})})},R=()=>{const{id:a}=T(),{t:s}=f(),{product_type:n,isPending:o,isError:i,error:c}=h(a),l=!o&&!!n;if(i)throw c;return e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(g,{children:s("productTypes.edit.header")})}),l&&e.jsx(b,{productType:n})]})};export{R as Component};
