import{u as p,w as v,N as g,j as e,H as S,t as h,I as y,p as F}from"./index-DQ7iaOIo.js";import{c as w}from"./chunk-4HI66HSD-Qtu4Hyf5.js";import{u as I}from"./chunk-3UMDCRM2-NSGJIubw.js";import{a as i,u as L}from"./chunk-RLLZZQKN-CuYY48Je.js";import{u as Z,F as c}from"./chunk-C7RYT3S3-DvWl1ixb.js";import{o as b,s as z}from"./index-yuYasa5Y.js";import{B as j}from"./label-DsyTUQgE.js";import"./chunk-RJJ3HJT5-0qvBrSK4.js";import"./prompt-BKfKBHyN.js";b({name:z().min(1)});var E=({zone:l,fulfillmentSetId:r,locationId:d})=>{const{t:s}=p(),{handleSuccess:t}=L(),o=Z({defaultValues:{name:l.name}}),{mutateAsync:f,isPending:u}=w(r,l.id),a=o.handleSubmit(async n=>{await f({name:n.name},{onSuccess:()=>{h.success(s("stockLocations.serviceZones.edit.successToast",{name:n.name})),t(`/settings/locations/${d}`)},onError:m=>{h.error(m.message)}})});return e.jsx(i.Form,{form:o,children:e.jsxs("form",{onSubmit:a,className:"flex flex-1 flex-col",children:[e.jsx(i.Body,{children:e.jsxs("div",{className:"flex flex-col gap-y-8",children:[e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsx(c.Field,{control:o.control,name:"name",render:({field:n})=>e.jsxs(c.Item,{children:[e.jsx(c.Label,{children:s("fields.name")}),e.jsx(c.Control,{children:e.jsx(y,{...n})}),e.jsx(c.ErrorMessage,{})]})})}),e.jsx(F,{children:s("stockLocations.serviceZones.fields.tip")})]})}),e.jsx(i.Footer,{children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(i.Close,{asChild:!0,children:e.jsx(j,{size:"small",variant:"secondary",children:s("actions.cancel")})}),e.jsx(j,{size:"small",type:"submit",isLoading:u,children:s("actions.save")})]})})]})})},$=()=>{var n,m;const{t:l}=p(),{location_id:r,fset_id:d,zone_id:s}=v(),{stock_location:t,isPending:o,isError:f,error:u}=I(r,{fields:"*fulfillment_sets.service_zones"}),a=(m=(n=t==null?void 0:t.fulfillment_sets)==null?void 0:n.find(x=>x.id===d))==null?void 0:m.service_zones.find(x=>x.id===s);if(f)throw u;if(!o&&!a)throw g({message:`Service zone with ID ${s} was not found`},404);return e.jsxs(i,{prev:`/settings/locations/${r}`,children:[e.jsx(i.Header,{children:e.jsx(S,{children:l("stockLocations.serviceZones.edit.header")})}),!o&&a&&e.jsx(E,{zone:a,fulfillmentSetId:d,locationId:r})]})};export{$ as Component};
