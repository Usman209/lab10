import{J as m}from"./chunk-3IW4HYUP-DTbTbYs9.js";import{q as l,h as u,w as p,ct as x,j as e,N as f,O as j,v as g,u as y,b as v,cu as h,C as w,H as T,A as C,T as d}from"./index-DQ7iaOIo.js";import{p as q}from"./chunk-4N7PLYUW-DRfoew5M.js";import{P as D}from"./pencil-square-C2dQ88SM.js";import{T as b}from"./trash-AHlgA58B.js";import{u as N}from"./use-prompt-DSUtE_64.js";import"./arrow-up-right-on-box-CErxVq_8.js";import"./Trans-LG4CmYWt.js";import"./x-mark-mini-DjxzaqmQ.js";import"./triangle-down-mini-CMQwg4p-.js";import"./square-two-stack-0Hf-pV3m.js";import"./chunk-DMYZ6SLX-CvGU_oYL.js";import"./prompt-BKfKBHyN.js";import"./label-DsyTUQgE.js";const U={widgets:[]},P={widgets:[]};var S=s=>({queryKey:q.detail(s),queryFn:async()=>g.users.retrieve(s)}),M=async({params:s})=>{const t=s.id,a=S(t);return l.getQueryData(a.queryKey)??await l.fetchQuery(a)},A=({user:s})=>{const{t}=y(),a=v(),o=N(),{mutateAsync:c}=h(s.id),i=[s.first_name,s.last_name].filter(Boolean).join(" "),r=async()=>{await o({title:t("general.areYouSure"),description:t("users.deleteUserWarning",{name:i??s.email}),verificationText:i??s.email,verificationInstruction:t("general.typeToConfirm"),confirmText:t("actions.delete"),cancelText:t("actions.cancel")})&&await c(void 0,{onSuccess:()=>{a("..")}})};return e.jsxs(w,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(T,{children:s.email}),e.jsx(C,{groups:[{actions:[{label:t("actions.edit"),to:"edit",icon:e.jsx(D,{})}]},{actions:[{label:t("actions.delete"),onClick:r,icon:e.jsx(b,{})}]}]})]}),e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:t("fields.name")}),e.jsx(d,{size:"small",leading:"compact",children:i??"-"})]})]})},R=()=>{const s=u(),{id:t}=p(),{user:a,isPending:o,isError:c,error:i}=x(t,void 0,{initialData:s});if(o)return e.jsx("div",{children:"Loading..."});if(c||!a)throw i||f("An unknown error has occured",500);return e.jsxs("div",{className:"flex flex-col gap-y-2",children:[P.widgets.map((r,n)=>e.jsx("div",{children:e.jsx(r.Component,{data:a})},n)),e.jsx(A,{user:a}),U.widgets.map((r,n)=>e.jsx("div",{children:e.jsx(r.Component,{data:a})},n)),e.jsx(m,{data:a}),e.jsx(j,{})]})};export{R as Component,M as loader};
