import{u as h}from"./chunk-CPU3RSJF-DjpX8d-J.js";import{u as f}from"./chunk-FDTXKQ2M-CjK8GA8u.js";import{q as u,j as r,s as x,u as l,h as j,C as P,H as b,L as v,r as w,k as C,A as D}from"./index-DQ7iaOIo.js";import{b as L,c as S}from"./chunk-IRV425DP-Dkabmjt2.js";import{S as q}from"./chunk-FGHVNTU2-B17BbdmQ.js";import"./chunk-3IW4HYUP-DTbTbYs9.js";import{p as E,u as A}from"./chunk-NGTKJO6Q-CBxZNPj4.js";import{u as O,D as Q}from"./chunk-MOFW5DA3-BBRzwwAr.js";import"./lodash-BbEdBw2P.js";import"./chunk-7LAPOKHJ-CJKFdgcT.js";import"./chunk-M566SHKI-CpCecA-q.js";import{P as _}from"./pencil-square-C2dQ88SM.js";import{T as k}from"./trash-AHlgA58B.js";import{B as z}from"./label-DsyTUQgE.js";import{c as H}from"./index-DW7vLJga.js";import"./use-prompt-DSUtE_64.js";import"./prompt-BKfKBHyN.js";import"./chunk-B4FQDBC3-vSBK5DkU.js";import"./chunk-P3UUX2T6-OlAXa1VC.js";import"./format-CJ2FegFx.js";import"./chunk-IQRVIEMV-CAyGAynz.js";import"./chunk-C76H5USB-BzcnRuay.js";import"./chunk-W7625H47-D80nHBZo.js";import"./arrow-up-right-on-box-CErxVq_8.js";import"./Trans-LG4CmYWt.js";import"./x-mark-mini-DjxzaqmQ.js";import"./triangle-down-mini-CMQwg4p-.js";import"./square-two-stack-0Hf-pV3m.js";import"./chunk-5FUV23JF-BunLQmqw.js";import"./chunk-RKBIB2RM-cgj6pqOB.js";import"./chunk-WX2SMNCD-CYp4yo3d.js";import"./plus-mini-DfhjBeEB.js";import"./command-bar-B4tNt0in.js";import"./index-T2cn0UOM.js";import"./chunk-QAF7PVQE-D70u5tsT.js";import"./_baseIsEqual-DdDy9tKi.js";import"./date-picker-BsdoIRhX.js";import"./clsx-B-dksMZM.js";import"./popover-C1ro1ubo.js";import"./triangle-left-mini-o3U9ykef.js";const N={widgets:[]},R={widgets:[]};var B=t=>({queryKey:E.list(t),queryFn:async()=>x.admin.productTag.list(t)}),At=async({request:t})=>{const a=new URL(t.url).searchParams,e={};a.forEach((i,o)=>{try{e[o]=JSON.parse(i)}catch{e[o]=i}});const s=B(e);return u.getQueryData(s.queryKey)??await u.fetchQuery(s)},c=20,K=()=>{const{t}=l(),{searchParams:a,raw:e}=L({pageSize:c}),s=j(),{product_tags:i,count:o,isPending:m,isError:d,error:g}=A(a,{initialData:s,placeholderData:C}),p=I(),y=S(),{table:T}=O({data:i,count:o,columns:p,getRowId:n=>n.id,pageSize:c});if(d)throw g;return r.jsxs(P,{className:"divide-y px-0 py-0",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[r.jsx(b,{children:t("productTags.domain")}),r.jsx(z,{variant:"secondary",size:"small",asChild:!0,children:r.jsx(v,{to:"create",children:t("actions.create")})})]}),r.jsx(Q,{table:T,filters:y,queryObject:e,isLoading:m,columns:p,pageSize:c,count:o,navigateTo:n=>n.original.id,search:!0,pagination:!0,orderBy:["value","created_at","updated_at"]})]})},M=({productTag:t})=>{const{t:a}=l(),e=h({productTag:t});return r.jsx(D,{groups:[{actions:[{icon:r.jsx(_,{}),label:a("actions.edit"),to:`${t.id}/edit`}]},{actions:[{icon:r.jsx(k,{}),label:a("actions.delete"),onClick:e}]}]})},F=H(),I=()=>{const t=f();return w.useMemo(()=>[...t,F.display({id:"actions",cell:({row:a})=>r.jsx(M,{productTag:a.original})})],[t])},Ot=()=>r.jsx(q,{showMetadata:!1,showJSON:!1,hasOutlet:!0,widgets:{after:N,before:R},children:r.jsx(K,{})});export{Ot as Component,At as loader};
